(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9979],{36808:function(a,b,c){var d,e;!function(f){void 0!==(e="function"==typeof(d=f)?d.call(b,c,b,a):d)&&(a.exports=e),a.exports=f()}(function(){function a(){for(var a=0,b={};a<arguments.length;a++){var c=arguments[a];for(var d in c)b[d]=c[d]}return b}function b(a){return a.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function c(d){function e(){}function f(b,c,f){if("undefined"!=typeof document){"number"==typeof(f=a({path:"/"},e.defaults,f)).expires&&(f.expires=new Date(new Date()*1+864e5*f.expires)),f.expires=f.expires?f.expires.toUTCString():"";try{var g=JSON.stringify(c);/^[\{\[]/.test(g)&&(c=g)}catch(h){}c=d.write?d.write(c,b):encodeURIComponent(String(c)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),b=encodeURIComponent(String(b)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i="";for(var j in f)f[j]&&(i+="; "+j,!0!==f[j]&&(i+="="+f[j].split(";")[0]));return document.cookie=b+"="+c+i}}function g(a,c){if("undefined"!=typeof document){for(var e={},f=document.cookie?document.cookie.split("; "):[],g=0;g<f.length;g++){var h=f[g].split("="),i=h.slice(1).join("=");c||"\""!==i.charAt(0)||(i=i.slice(1,-1));try{var j=b(h[0]);if(i=(d.read||d)(i,j)||b(i),c)try{i=JSON.parse(i)}catch(k){}if(e[j]=i,a===j)break}catch(l){}}return a?e[a]:e}}return e.set=f,e.get=function(a){return g(a,!1)},e.getJSON=function(a){return g(a,!0)},e.remove=function(b,c){f(b,"",a(c,{expires:-1}))},e.defaults={},e.withConverter=c,e}return c(function(){})})},12926:function(a,b,c){"use strict";c.d(b,{w:function(){return k}});var d=c(85893),e=c(67294),f=c(25617),g=c(97221),h=c(66964),i=c(37576),j=c(67227),k=31;b.Z=function(){var a=(0,f.I0)(),b=(0,e.useState)(!1),c=b[0],l=b[1],m=(0,e.useState)(!1),n=m[0],o=m[1],p=(0,f.v9)(j.Ft),q=(0,f.v9)(j.Wi),r=(0,h.Z)().data,s=(0,i.Z)().isServicedSolarPanels,t=(null==r?void 0:r.officeId)===k;return(0,e.useEffect)(function(){window.setBeltsvilleVariant=function(b){a((0,j.HW)(b))}},[a]),(0,e.useEffect)(function(){!c&&s&&t&&(window.dataLayer.push({event:"beltsville-test"}),l(!0)),!n&&q&&s&&p===g.mG.B&&(a((0,j.Zm)(g.cz.LOAN)),o(!0))},[t,c,p,n,q,s,a,]),(0,d.jsx)(e.Fragment,{})}},99979:function(a,b,c){"use strict";c.r(b),c.d(b,{"default":function(){return R}});var d=c(85893),e=c(67294),f=c(45547),g=c(25617),h=c(7833),i=c(473),j=c(67227),k=function(){var a=(0,h.Cp)().grossSystemCostAfterContractRebates,b=(0,h.Si)(),c=(0,g.v9)(i.ZL),k=(0,g.v9)(j.s2),l=(0,g.I0)();return(0,e.useEffect)(function(){if(k&&c){var d,e,g=[(0,f.MX)(.1*a,1),(0,f.MX)((a+(null==b?void 0:null===(d=b.data)|| void 0===d?void 0:null===(e=d.adders)|| void 0===e?void 0:e.potentialComplextiyDelta))*.1,1),];l((0,j.ku)(g))}else l((0,j.ku)((0,f.MX)(.1*a,1)))},[l,a,k,c,b.data.adders.potentialComplextiyDelta,]),(0,d.jsx)(e.Fragment,{})},l=c(11163),m=c(55113),n=function(){var a=(0,l.useRouter)(),b=(0,g.I0)();return(0,e.useEffect)(function(){var c="solarpanels",d=a.query,e=d.poi,f=d.cacheBuster,g=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(d,["poi","cacheBuster"]);if("solarroof"===e&&(c="solarroof"),"solarroof"===c?b((0,j.Id)()):b((0,j.Em)()),e||f){var h=(0,m.Wz)(g),i=a.pathname;h&&(i+="?".concat(h)),history.replaceState({},document.title,i)}},[b,a.pathname,a.query]),(0,d.jsx)(e.Fragment,{})},o=c(97221),p=c(37576),q=function(){var a=(0,g.I0)(),b=(0,p.Z)(),c=b.isLoading,f=b.isServiced,h=!c&&!f;return(0,e.useEffect)(function(){h&&a((0,j.Zm)(o.cz.CASH))},[a,h]),(0,d.jsx)(e.Fragment,{})},r=c(36808),s=c.n(r),t=c(22124),u=c(16751),v=function(){var a,b=(0,g.I0)(),c=(0,l.useRouter)().query,f=s().get(u.up),h=null==c?void 0:c.referral,k=(null==c?void 0:c.srm)||!1,m=null===(a=(0,t.WN)({referralCode:h||f}))|| void 0===a?void 0:a.data;return(0,e.useEffect)(function(){if(m){h&&s().set(u.up,h,{expires:7});var a=m.first_name,c=m.can_redeem,d=m.energy_credit,e=m.energy_roof_credit,f=m.energy_credit_currency,g=m.error;!g&&c&&d&&f&&(b((0,j.sI)({referrerName:a,referralCode:h,energyCredit:d,energyRoofCredit:e,energyCreditCurrency:f})),b((0,i.xP)([!0,k])))}},[m]),(0,d.jsx)(e.Fragment,{})},w=c(88794),x=function(){var a=(0,w.default)(),b=(0,g.v9)(j.dG),c=(0,g.I0)();return(0,e.useEffect)(function(){a.sunRoofSize&&(c((0,j.OQ)(a.sunRoofSize)),c((0,j.zA)(a.sunRoofSize)),c((0,j.T7)(a.roofInfoSource)),b||(c((0,j.g6)(void 0)),c((0,j.Kh)(void 0))))},[c,b,a.roofInfoSource,a.sunRoofSize,]),(0,d.jsx)(e.Fragment,{})},y=c(34051),z=c.n(y);function A(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function B(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function C(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){B(a,b,c[b])})}return a}var D=function(){var a=(0,g.I0)();return(0,e.useEffect)(function(){var b,c;(b=z().mark(function b(){var c,d,e,f,g,h,j,k,l,m,n,o,p,q,r,t,u,v,w;return z().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(c={},b.prev=1,e=s().get("ip_info")||"{}",!(null==(f=JSON.parse(e))?void 0:null===(d=f.region)|| void 0===d?void 0:d.regionCode)){b.next=9;break}a((0,i.CC)(C({isLoading:!1,isError:!1},f))),b.next=16;break;case 9:return a((0,i.CC)({isError:!1,isLoading:!0})),b.next=12,window.geoipData||fetch("https://location-services-prd.tesla.com/geoip/city").then(function(a){return a.json()});case 12:(g=b.sent)&&(c={ip:null==g?void 0:g.ip,location:{latitude:null==g?void 0:null===(h=g.location)|| void 0===h?void 0:h.latitude,longitude:null==g?void 0:null===(j=g.location)|| void 0===j?void 0:j.longitude},region:{longName:null==g?void 0:null===(k=g.subdivisions)|| void 0===k?void 0:null===(l=k[0])|| void 0===l?void 0:null===(m=l.names)|| void 0===m?void 0:m.en,regionCode:null==g?void 0:null===(n=g.subdivisions)|| void 0===n?void 0:null===(o=n[0])|| void 0===o?void 0:o.iso_code},city:null==g?void 0:null===(p=g.city)|| void 0===p?void 0:null===(q=p.names)|| void 0===q?void 0:q.en,country:null==g?void 0:null===(r=g.country)|| void 0===r?void 0:null===(t=r.names)|| void 0===t?void 0:t.en,countryCode:null==g?void 0:null===(u=g.country)|| void 0===u?void 0:null===(v=u.names)|| void 0===v?void 0:v.iso_code,postalCode:null==g?void 0:null===(w=g.postal)|| void 0===w?void 0:w.code}),a((0,i.CC)(C({isLoading:!1,isError:!1},c))),s().set("ip_info",c);case 16:b.next=23;break;case 18:return b.prev=18,b.t0=b.catch(1),c={isLoading:!1,isError:!0},a((0,i.CC)(c)),b.abrupt("return",c);case 23:case"end":return b.stop()}},b,null,[[1,18]])}),c=function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){A(f,d,e,g,h,"next",a)}function h(a){A(f,d,e,g,h,"throw",a)}g(void 0)})},function(){return c.apply(this,arguments)})()},[a]),(0,d.jsx)(e.Fragment,{})},E=c(66964),F=function(){var a,b,c,f=(0,g.I0)(),i=(0,E.Z)(),k=(0,h.Si)().data,l=null==k?void 0:null===(a=k.quoteConfig)|| void 0===a?void 0:a.isPowerwallCountRestricted,m=null==k?void 0:null===(b=k.quoteConfig)|| void 0===b?void 0:b.returnedPowerwallCount,n=null==i?void 0:null===(c=i.data)|| void 0===c?void 0:c.maxPowerwallCount;return(0,e.useEffect)(function(){l&&!n&&m>0&&(f((0,j.ic)(m)),f((0,j.iO)(m)))},[n,f,l,m,]),(0,d.jsx)(e.Fragment,{})},G=function(){var a=(0,g.I0)(),b=(0,w.default)().recommendedComplexity,c=(0,g.v9)(j.dG),f=(0,g.v9)(i.ZL);return(0,e.useEffect)(function(){f?a((0,j.iq)(o.Rn.simple)):b&&!c&&a((0,j.iq)(b))},[a,c,b,f]),(0,d.jsx)(e.Fragment,{})},H=c(3631),I=c(33966),J=c(21281),K=c(44142),L=function(){var a=(0,g.I0)(),b=(0,g.v9)(j.T4),c=(0,g.v9)(j.Yw),f=(0,g.v9)(j.Wi),h=(0,g.v9)(j.dh),i=(0,H.Z)().maxPowerwallCount,k=(0,g.v9)(j.dG),l=(0,g.v9)(j.Jx),m=Math.min(i,Math.ceil((f?c:l)/15));return(0,e.useEffect)(function(){!Number.isNaN(m)&&(k||b)&&a((0,j.iO)(m))},[a,k,m,b]),(0,e.useEffect)(function(){h>i&&a((0,j.iO)(i))},[a,i,h]),(0,d.jsx)(d.Fragment,{})},M=function(){var a=(0,g.I0)(),b=(0,I.default)(),c=(0,g.v9)(j.T4),f=(0,h.EY)(),i=(0,K.Z)(),k=(0,g.v9)(j.$B),l=(0,g.v9)(j.dG),m=(0,J.rQ)({stateReportData:b,utilityBill:c,roofSize:i,homeSquareFootage:k,isNewHome:l}).recommendedSolarRoofSystemSize,n=(0,J.Qz)({stateReportData:b,solarPanelQuotes:f,utilityBill:c,solarRoofSystemSize:m,isNewHome:l,homeSquareFootage:k}).recommendedSolarPanelSystemSize;return(0,e.useEffect)(function(){n&&(c||l&&k)&&(a((0,j.Zy)(n)),a((0,j._6)(n)))},[n,a,c,k,l,]),(0,e.useEffect)(function(){m&&(c||l)&&i&&a((0,j.xt)(m))},[a,l,m,i,c]),(0,d.jsx)(d.Fragment,{})},N=c(12926),O=function(){var a=(0,h.tO)(),b=(0,h.VC)();return(0,e.useEffect)(function(){window&&"www.tesla.com"!==window.location.host&&(window.fallbackSolarPanelPricing=a,window.fallbackSolarRoofPricing=b)},[a,b]),(0,d.jsx)(e.Fragment,{})},P=c(16762),Q=function(){var a=(0,g.I0)(),b=(0,e.useState)(!1),c=b[0],f=b[1],h=(0,g.v9)(j.Wi),i=(0,P.Z)().isInElectricityPriceIncreaseOffice;return(0,e.useEffect)(function(){window.setElectricityPriceIncreaseVariant=function(b){a((0,j.Ln)(b))}},[a]),(0,e.useEffect)(function(){!c&&i&&(window.dataLayer.push({event:"electricity-price-test"}),f(!0))},[c,h,i]),(0,d.jsx)(e.Fragment,{})},R=function(){return(0,d.jsxs)(e.Fragment,{children:[(0,d.jsx)(M,{}),(0,d.jsx)(L,{}),(0,d.jsx)(n,{}),(0,d.jsx)(k,{}),(0,d.jsx)(v,{}),(0,d.jsx)(q,{}),(0,d.jsx)(x,{}),(0,d.jsx)(D,{}),(0,d.jsx)(G,{}),(0,d.jsx)(F,{}),(0,d.jsx)(N.Z,{}),(0,d.jsx)(O,{}),(0,d.jsx)(Q,{})]})}},16751:function(a,b,c){"use strict";c.d(b,{up:function(){return d}});var d="tesla_referral_code"},55113:function(a,b,c){"use strict";c.d(b,{Gf:function(){return f},Wz:function(){return g}});var d=c(41609),e=c.n(d),f=function(){return Boolean(window&&window.location&&window.location.search&&"true"===new URLSearchParams(window.location.search).get("4f199486-7acc-45f8-8512-7c94cd732133"))},g=function(a){if(e()(a))return null;var b=Object.keys(a),c="";return b.forEach(function(d,e){c+="".concat(d,"=").concat(a[d]),e<b.length-1&&(c+="&")}),c}}}])
//# sourceMappingURL=9979.43dc27b8558d5b29.js.map